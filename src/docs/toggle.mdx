import { ComponentDocsLayout } from "@/components/documentation/component-docs-layout"
import { ComponentPreview } from "@/components/documentation/component-preview"
import { Toggle } from "@/components/ui/toggle"
import { Badge } from "@/components/ui/badge"
import { 
  Bold, 
  Italic, 
  Underline, 
  Volume2, 
  VolumeX,
  Bell,
  BellOff,
  Moon,
  Sun,
  Bookmark,
  BookmarkCheck,
  Heart,
  HeartHandshake,
  Zap,
  Power,
  Eye,
  EyeOff
} from "lucide-react"

<ComponentDocsLayout
  title="Toggle"
  description="A two-state button that can be either on (pressed) or off (not pressed). Perfect for settings, preferences, and binary choices."
>

## Overview

The Toggle component is a two-state button that can be toggled between pressed and unpressed states. Built on top of Radix UI's Toggle primitive, it provides excellent accessibility and keyboard navigation support.

## Features

- **Two-state Control**: Clear on/off or pressed/unpressed states
- **Keyboard Accessible**: Full keyboard navigation support
- **Customizable Variants**: Default and outline styles
- **Multiple Sizes**: Small, default, and large options
- **Icon Support**: Works seamlessly with icons and text
- **Controlled/Uncontrolled**: Supports both controlled and uncontrolled usage
- **Accessible**: Built with proper ARIA attributes and screen reader support
- **Themeable**: Consistent with your design system

## Basic Usage

<ComponentPreview>
```tsx
import { Toggle } from "@/components/ui/toggle"
import { Bold } from "lucide-react"

function BasicToggle() {
  return (
    <Toggle aria-label="Toggle bold">
      <Bold className="h-4 w-4" />
    </Toggle>
  )
}
```
</ComponentPreview>

## Advanced Examples

### Controlled Toggle with State

<ComponentPreview>
```tsx
import { useState } from "react"
import { Toggle } from "@/components/ui/toggle"
import { Volume2, VolumeX } from "lucide-react"

function VolumeToggle() {
  const [muted, setMuted] = useState(false)

  return (
    <Toggle 
      pressed={muted}
      onPressedChange={setMuted}
      variant="outline"
      aria-label="Toggle mute"
    >
      {muted ? <VolumeX className="h-4 w-4" /> : <Volume2 className="h-4 w-4" />}
      <span className="ml-2">{muted ? 'Muted' : 'Volume On'}</span>
    </Toggle>
  )
}
```
</ComponentPreview>

### NERV System Settings

<ComponentPreview>
```tsx
import { useState } from "react"
import { Toggle } from "@/components/ui/toggle"
import { Badge } from "@/components/ui/badge"
import { Bell, BellOff, Eye, EyeOff, Zap, Power } from "lucide-react"

function NERVSettings() {
  const [notifications, setNotifications] = useState(true)
  const [monitoring, setMonitoring] = useState(false)
  const [powerMode, setPowerMode] = useState(false)

  return (
    <div className="space-y-6">
      <div>
        <div className="flex items-center gap-2 mb-3">
          <Badge variant="outline" className="bg-red-50 dark:bg-red-950">Alert Systems</Badge>
        </div>
        <div className="space-y-3">
          <Toggle
            pressed={notifications}
            onPressedChange={setNotifications}
            aria-label="Toggle notifications"
            className="w-full justify-start"
          >
            {notifications ? <Bell className="h-4 w-4" /> : <BellOff className="h-4 w-4" />}
            <span className="ml-2">Angel Alert Notifications</span>
          </Toggle>
          
          <Toggle
            pressed={monitoring}
            onPressedChange={setMonitoring}
            variant="outline"
            aria-label="Toggle monitoring"
            className="w-full justify-start"
          >
            {monitoring ? <Eye className="h-4 w-4" /> : <EyeOff className="h-4 w-4" />}
            <span className="ml-2">Continuous Monitoring</span>
          </Toggle>
        </div>
      </div>

      <div>
        <div className="flex items-center gap-2 mb-3">
          <Badge variant="outline" className="bg-purple-50 dark:bg-purple-950">Power Systems</Badge>
        </div>
        <Toggle
          pressed={powerMode}
          onPressedChange={setPowerMode}
          className="data-[state=on]:bg-purple-500/10 data-[state=on]:border-purple-500 data-[state=on]:text-purple-600"
          aria-label="Power mode"
        >
          <Zap className="h-4 w-4" />
          <span className="ml-2">Beast Mode</span>
        </Toggle>
      </div>
    </div>
  )
}
```
</ComponentPreview>

### Size Variants

<ComponentPreview>
```tsx
import { Toggle } from "@/components/ui/toggle"
import { Bold } from "lucide-react"

function SizeVariants() {
  return (
    <div className="flex items-center gap-4">
      <div className="space-y-2">
        <p className="text-sm text-muted-foreground">Small</p>
        <Toggle size="sm" aria-label="Small toggle">
          <Bold className="h-3 w-3" />
        </Toggle>
      </div>
      
      <div className="space-y-2">
        <p className="text-sm text-muted-foreground">Default</p>
        <Toggle aria-label="Default toggle">
          <Bold className="h-4 w-4" />
        </Toggle>
      </div>
      
      <div className="space-y-2">
        <p className="text-sm text-muted-foreground">Large</p>
        <Toggle size="lg" aria-label="Large toggle">
          <Bold className="h-5 w-5" />
        </Toggle>
      </div>
    </div>
  )
}
```
</ComponentPreview>

## API Reference

### Toggle

| Prop | Type | Default | Description |
|------|------|---------|-------------|
| `pressed` | `boolean` | `undefined` | The pressed state of the toggle (controlled) |
| `defaultPressed` | `boolean` | `false` | The default pressed state (uncontrolled) |
| `onPressedChange` | `(pressed: boolean) => void` | `undefined` | Callback fired when the pressed state changes |
| `disabled` | `boolean` | `false` | Whether the toggle is disabled |
| `variant` | `"default" \| "outline"` | `"default"` | The visual variant of the toggle |
| `size` | `"default" \| "sm" \| "lg"` | `"default"` | The size of the toggle |
| `className` | `string` | `undefined` | Additional CSS classes |
| `children` | `ReactNode` | `undefined` | The content of the toggle |

The Toggle component also accepts all standard button HTML attributes.

## Code Examples

### Basic Implementation

```tsx
import { Toggle } from "@/components/ui/toggle"
import { Bold } from "lucide-react"

function SimpleToggle() {
  return (
    <Toggle aria-label="Toggle bold">
      <Bold className="h-4 w-4" />
    </Toggle>
  )
}
```

### Text Formatting Toolbar

```tsx
import { useState } from "react"
import { Toggle } from "@/components/ui/toggle"
import { Bold, Italic, Underline } from "lucide-react"

function TextFormattingToolbar() {
  const [formatting, setFormatting] = useState({
    bold: false,
    italic: false,
    underline: false
  })

  return (
    <div className="flex items-center gap-1 p-2 border rounded-md">
      <Toggle
        pressed={formatting.bold}
        onPressedChange={(pressed) => 
          setFormatting(prev => ({ ...prev, bold: pressed }))
        }
        aria-label="Bold"
      >
        <Bold className="h-4 w-4" />
      </Toggle>
      <Toggle
        pressed={formatting.italic}
        onPressedChange={(pressed) => 
          setFormatting(prev => ({ ...prev, italic: pressed }))
        }
        aria-label="Italic"
      >
        <Italic className="h-4 w-4" />
      </Toggle>
      <Toggle
        pressed={formatting.underline}
        onPressedChange={(pressed) => 
          setFormatting(prev => ({ ...prev, underline: pressed }))
        }
        aria-label="Underline"
      >
        <Underline className="h-4 w-4" />
      </Toggle>
    </div>
  )
}
```

### Interactive Bookmark

```tsx
import { useState } from "react"
import { Toggle } from "@/components/ui/toggle"
import { Bookmark } from "lucide-react"

function BookmarkToggle() {
  const [bookmarked, setBookmarked] = useState(false)

  return (
    <Toggle
      pressed={bookmarked}
      onPressedChange={setBookmarked}
      variant="outline"
      aria-label="Bookmark this item"
      className="data-[state=on]:text-blue-500"
    >
      <Bookmark className={`h-4 w-4 ${bookmarked ? 'fill-current' : ''}`} />
      <span className="ml-2">Bookmark</span>
    </Toggle>
  )
}
```

## Accessibility

The Toggle component is built with accessibility in mind:

- **Keyboard Navigation**: Supports Space and Enter keys for activation
- **ARIA Attributes**: Uses `aria-pressed` to indicate the current state
- **Screen Reader Support**: Properly announces state changes
- **Focus Management**: Clear focus indicators and proper tab order
- **Labels**: Always provide descriptive `aria-label` or visible text

### Accessibility Best Practices

```tsx
// ✅ Good: Clear aria-label
<Toggle aria-label="Toggle bold formatting">
  <Bold className="h-4 w-4" />
</Toggle>

// ✅ Good: Descriptive text content
<Toggle>
  <Volume2 className="h-4 w-4" />
  Volume On
</Toggle>

// ✅ Good: Associated label
<label htmlFor="notifications">Enable notifications</label>
<Toggle id="notifications" />

// ❌ Avoid: No accessible name
<Toggle>
  <Bold className="h-4 w-4" />
</Toggle>
```

## Best Practices

### When to Use Toggle

- **Binary settings**: On/off preferences and configurations
- **Text formatting**: Bold, italic, underline controls
- **View modes**: Grid/list view, light/dark theme
- **Feature toggles**: Enable/disable functionality
- **Interactive actions**: Like, bookmark, favorite buttons

### Design Guidelines

- **Visual feedback**: Ensure clear visual distinction between states
- **Consistent grouping**: Group related toggles together
- **Appropriate sizing**: Use consistent sizes within the same context
- **Color usage**: Use color to reinforce state, not as the only indicator
- **Icon clarity**: Choose icons that clearly represent the toggle's function

### State Management

```tsx
// ✅ Good: Controlled component with clear state
const [isEnabled, setIsEnabled] = useState(false)

<Toggle 
  pressed={isEnabled}
  onPressedChange={setIsEnabled}
  aria-label="Enable feature"
>
  Enable Feature
</Toggle>

// ✅ Good: Uncontrolled with default state
<Toggle defaultPressed={true} aria-label="Auto-save">
  Auto-save
</Toggle>
```

### Performance Considerations

- **Memoization**: Use `React.memo` for toggles that don't need frequent re-renders
- **State optimization**: Avoid unnecessary re-renders with proper state management
- **Icon optimization**: Use consistent icon sizes and consider icon libraries

</ComponentDocsLayout>