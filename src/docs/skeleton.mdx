import { ComponentDocsLayout } from '@/components/documentation/component-docs-layout'
import { ComponentPreview } from '@/components/documentation/component-preview'
import { Skeleton } from '@/components/ui/skeleton'
import { Card, CardContent, CardHeader } from '@/components/ui/card'
import { Avatar } from '@/components/ui/avatar'
import { Button } from '@/components/ui/button'
import { Badge } from '@/components/ui/badge'
import { useState } from 'react'

<ComponentDocsLayout
  title="Skeleton"
  description="A placeholder component that shows a loading state while content is being fetched. Provides visual feedback with a subtle pulse animation to indicate active loading."
  category="Feedback Component"
>

## Overview

The Skeleton component provides a visual placeholder that mimics the shape and size of content while it's loading. It helps maintain layout stability and provides users with immediate feedback that content is being loaded, improving perceived performance.

## Features

- **Pulse Animation**: Subtle animation indicates active loading state
- **Flexible Sizing**: Easily customizable width, height, and shape
- **Shape Variants**: Support for rectangles, circles, and custom shapes
- **Layout Preservation**: Maintains content structure during loading
- **Accessibility**: Screen reader friendly with proper ARIA attributes
- **Performance**: Lightweight with CSS-only animations
- **Responsive**: Adapts to container sizes and responsive layouts

## Basic Usage

<ComponentPreview
  title="Basic Skeletons"
  description="Simple skeleton placeholders with different sizes"
>
  <div className="space-y-3 w-full max-w-sm">
    <Skeleton className="h-4 w-[250px]" />
    <Skeleton className="h-4 w-[200px]" />
    <Skeleton className="h-4 w-[150px]" />
  </div>
</ComponentPreview>

## Different Shapes

<ComponentPreview
  title="Shape Variants"
  description="Skeleton components with different shapes and sizes"
>
  <div className="flex items-center space-x-6">
    <div className="space-y-2 text-center">
      <Skeleton className="h-12 w-12 rounded-full" />
      <p className="text-xs text-muted-foreground">Circle</p>
    </div>
    <div className="space-y-2 text-center">
      <Skeleton className="h-12 w-12 rounded-md" />
      <p className="text-xs text-muted-foreground">Square</p>
    </div>
    <div className="space-y-2 text-center">
      <Skeleton className="h-12 w-24 rounded-md" />
      <p className="text-xs text-muted-foreground">Rectangle</p>
    </div>
    <div className="space-y-2 text-center">
      <Skeleton className="h-8 w-32 rounded-full" />
      <p className="text-xs text-muted-foreground">Pill</p>
    </div>
  </div>
</ComponentPreview>

## Card Loading State

<ComponentPreview
  title="Card Skeleton"
  description="Complete card layout with skeleton placeholders"
>
  <Card className="w-[350px]">
    <CardHeader>
      <div className="flex items-center space-x-4">
        <Skeleton className="h-12 w-12 rounded-full" />
        <div className="space-y-2">
          <Skeleton className="h-4 w-[150px]" />
          <Skeleton className="h-4 w-[100px]" />
        </div>
      </div>
    </CardHeader>
    <CardContent className="space-y-3">
      <Skeleton className="h-4 w-full" />
      <Skeleton className="h-4 w-full" />
      <Skeleton className="h-4 w-3/4" />
      <div className="flex space-x-2 pt-2">
        <Skeleton className="h-8 w-16" />
        <Skeleton className="h-8 w-16" />
      </div>
    </CardContent>
  </Card>
</ComponentPreview>

## NERV System Loading

<ComponentPreview
  title="NERV Data Loading"
  description="Themed skeleton for NERV system data loading"
>
  <Card className="w-[400px] border-orange-200 bg-gradient-to-br from-orange-50 to-red-50 dark:border-orange-800 dark:from-orange-950/20 dark:to-red-950/20">
    <CardHeader>
      <div className="flex items-center space-x-3">
        <Skeleton className="h-10 w-10 rounded-full bg-orange-200 dark:bg-orange-800" />
        <div className="space-y-2">
          <Skeleton className="h-4 w-[120px] bg-orange-200 dark:bg-orange-800" />
          <Skeleton className="h-3 w-[80px] bg-orange-200 dark:bg-orange-800" />
        </div>
      </div>
    </CardHeader>
    <CardContent className="space-y-3">
      <div className="space-y-2">
        <Skeleton className="h-3 w-full bg-orange-200 dark:bg-orange-800" />
        <Skeleton className="h-3 w-5/6 bg-orange-200 dark:bg-orange-800" />
        <Skeleton className="h-3 w-4/5 bg-orange-200 dark:bg-orange-800" />
      </div>
      <div className="grid grid-cols-3 gap-2 pt-2">
        <Skeleton className="h-6 w-full bg-orange-200 dark:bg-orange-800" />
        <Skeleton className="h-6 w-full bg-orange-200 dark:bg-orange-800" />
        <Skeleton className="h-6 w-full bg-orange-200 dark:bg-orange-800" />
      </div>
    </CardContent>
  </Card>
</ComponentPreview>

## Interactive Loading Demo

<ComponentPreview
  title="Loading State Toggle"
  description="Interactive demo showing skeleton vs loaded content"
>
  {() => {
    const [isLoading, setIsLoading] = useState(true)
    
    return (
      <div className="space-y-4">
        <Button 
          onClick={() => setIsLoading(!isLoading)}
          variant="outline"
        >
          {isLoading ? "Show Content" : "Show Loading"}
        </Button>
        
        <Card className="w-[350px]">
          <CardHeader>
            {isLoading ? (
              <div className="flex items-center space-x-4">
                <Skeleton className="h-12 w-12 rounded-full" />
                <div className="space-y-2">
                  <Skeleton className="h-4 w-[150px]" />
                  <Skeleton className="h-4 w-[100px]" />
                </div>
              </div>
            ) : (
              <div className="flex items-center space-x-4">
                <Avatar className="h-12 w-12">
                  <div className="h-full w-full bg-gradient-to-br from-blue-400 to-blue-600 flex items-center justify-center text-white font-bold">
                    S
                  </div>
                </Avatar>
                <div>
                  <h4 className="font-semibold">Shinji Ikari</h4>
                  <p className="text-sm text-muted-foreground">EVA-01 Pilot</p>
                </div>
              </div>
            )}
          </CardHeader>
          <CardContent>
            {isLoading ? (
              <div className="space-y-3">
                <Skeleton className="h-4 w-full" />
                <Skeleton className="h-4 w-full" />
                <Skeleton className="h-4 w-3/4" />
                <div className="flex space-x-2 pt-2">
                  <Skeleton className="h-8 w-16" />
                  <Skeleton className="h-8 w-16" />
                </div>
              </div>
            ) : (
              <div className="space-y-3">
                <p className="text-sm">
                  The Third Child and pilot of Evangelion Unit-01. Despite his reluctance, he plays a crucial role in defending humanity.
                </p>
                <div className="flex space-x-2">
                  <Button size="sm">View Profile</Button>
                  <Button size="sm" variant="outline">Contact</Button>
                </div>
              </div>
            )}
          </CardContent>
        </Card>
      </div>
    )
  }}
</ComponentPreview>

## List Loading State

<ComponentPreview
  title="List Skeleton"
  description="Skeleton for list items with avatars and text"
>
  <div className="space-y-3 w-[300px]">
    {Array.from({ length: 4 }).map((_, i) => (
      <div key={i} className="flex items-center space-x-3">
        <Skeleton className="h-8 w-8 rounded-full" />
        <div className="space-y-2 flex-1">
          <Skeleton className="h-3 w-full" />
          <Skeleton className="h-3 w-2/3" />
        </div>
      </div>
    ))}
  </div>
</ComponentPreview>

## Table Loading State

<ComponentPreview
  title="Table Skeleton"
  description="Skeleton for table data with headers and rows"
>
  <div className="w-full max-w-md">
    <div className="space-y-2">
      {/* Header */}
      <div className="flex space-x-4 pb-2 border-b">
        <Skeleton className="h-4 w-20" />
        <Skeleton className="h-4 w-32" />
        <Skeleton className="h-4 w-24" />
        <Skeleton className="h-4 w-16" />
      </div>
      {/* Rows */}
      {Array.from({ length: 5 }).map((_, i) => (
        <div key={i} className="flex space-x-4 py-2">
          <Skeleton className="h-3 w-20" />
          <Skeleton className="h-3 w-32" />
          <Skeleton className="h-3 w-24" />
          <Skeleton className="h-3 w-16" />
        </div>
      ))}
    </div>
  </div>
</ComponentPreview>

## API Reference

### Skeleton

A simple div element with pulse animation and rounded corners.

<table style={{ border: '1px solid orange', borderCollapse: 'collapse', width: '100%' }}>
  <thead>
    <tr>
      <th style={{ border: '1px solid orange', padding: '8px', textAlign: 'left' }}>Prop</th>
      <th style={{ border: '1px solid orange', padding: '8px', textAlign: 'left' }}>Type</th>
      <th style={{ border: '1px solid orange', padding: '8px', textAlign: 'left' }}>Default</th>
      <th style={{ border: '1px solid orange', padding: '8px', textAlign: 'left' }}>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style={{ border: '1px solid orange', padding: '8px' }}><code>className</code></td>
      <td style={{ border: '1px solid orange', padding: '8px' }}><code>string</code></td>
      <td style={{ border: '1px solid orange', padding: '8px' }}>-</td>
      <td style={{ border: '1px solid orange', padding: '8px' }}>Additional CSS classes for custom styling</td>
    </tr>
    <tr>
      <td style={{ border: '1px solid orange', padding: '8px' }}><code>...props</code></td>
      <td style={{ border: '1px solid orange', padding: '8px' }}><code>React.ComponentProps&lt;"div"&gt;</code></td>
      <td style={{ border: '1px solid orange', padding: '8px' }}>-</td>
      <td style={{ border: '1px solid orange', padding: '8px' }}>All standard div element props</td>
    </tr>
  </tbody>
</table>

## Examples

### Basic Implementation

```tsx
import { Skeleton } from "@/components/ui/skeleton"

function BasicSkeleton() {
  return (
    <div className="space-y-3">
      <Skeleton className="h-4 w-[250px]" />
      <Skeleton className="h-4 w-[200px]" />
      <Skeleton className="h-4 w-[150px]" />
    </div>
  )
}
```

### Card with Skeleton

```tsx
import { Skeleton } from "@/components/ui/skeleton"
import { Card, CardContent, CardHeader } from "@/components/ui/card"

function CardSkeleton() {
  return (
    <Card className="w-[350px]">
      <CardHeader>
        <div className="flex items-center space-x-4">
          <Skeleton className="h-12 w-12 rounded-full" />
          <div className="space-y-2">
            <Skeleton className="h-4 w-[150px]" />
            <Skeleton className="h-4 w-[100px]" />
          </div>
        </div>
      </CardHeader>
      <CardContent className="space-y-3">
        <Skeleton className="h-4 w-full" />
        <Skeleton className="h-4 w-full" />
        <Skeleton className="h-4 w-3/4" />
      </CardContent>
    </Card>
  )
}
```

### Custom Colored Skeleton

```tsx
function CustomSkeleton() {
  return (
    <div className="space-y-3">
      <Skeleton className="h-4 w-[200px] bg-blue-200 dark:bg-blue-800" />
      <Skeleton className="h-4 w-[180px] bg-green-200 dark:bg-green-800" />
      <Skeleton className="h-4 w-[160px] bg-purple-200 dark:bg-purple-800" />
    </div>
  )
}
```

### Conditional Loading

```tsx
import { useState, useEffect } from "react"

function ConditionalSkeleton() {
  const [isLoading, setIsLoading] = useState(true)
  const [data, setData] = useState(null)

  useEffect(() => {
    // Simulate data loading
    const timer = setTimeout(() => {
      setData({ name: "John Doe", email: "john@example.com" })
      setIsLoading(false)
    }, 2000)

    return () => clearTimeout(timer)
  }, [])

  if (isLoading) {
    return (
      <div className="space-y-2">
        <Skeleton className="h-4 w-[200px]" />
        <Skeleton className="h-4 w-[150px]" />
      </div>
    )
  }

  return (
    <div className="space-y-2">
      <p className="font-medium">{data.name}</p>
      <p className="text-sm text-muted-foreground">{data.email}</p>
    </div>
  )
}
```

### List Skeleton

```tsx
function ListSkeleton({ count = 3 }: { count?: number }) {
  return (
    <div className="space-y-3">
      {Array.from({ length: count }).map((_, i) => (
        <div key={i} className="flex items-center space-x-3">
          <Skeleton className="h-8 w-8 rounded-full" />
          <div className="space-y-2 flex-1">
            <Skeleton className="h-3 w-full" />
            <Skeleton className="h-3 w-2/3" />
          </div>
        </div>
      ))}
    </div>
  )
}
```

### Table Skeleton

```tsx
function TableSkeleton() {
  return (
    <div className="space-y-2">
      {/* Header */}
      <div className="flex space-x-4 pb-2 border-b">
        <Skeleton className="h-4 w-20" />
        <Skeleton className="h-4 w-32" />
        <Skeleton className="h-4 w-24" />
      </div>
      {/* Rows */}
      {Array.from({ length: 5 }).map((_, i) => (
        <div key={i} className="flex space-x-4 py-2">
          <Skeleton className="h-3 w-20" />
          <Skeleton className="h-3 w-32" />
          <Skeleton className="h-3 w-24" />
        </div>
      ))}
    </div>
  )
}
```

## Accessibility

- Uses `div` element with appropriate ARIA attributes
- Pulse animation provides visual feedback for loading state
- Screen reader compatible with proper semantic structure
- Maintains focus order when content loads

## Best Practices

1. **Match Content Structure**: Skeleton should mirror the layout of actual content
2. **Appropriate Timing**: Show skeletons for loading states longer than 300ms
3. **Progressive Loading**: Load content progressively rather than all at once
4. **Consistent Sizing**: Use consistent skeleton sizes that match your content
5. **Animation Feedback**: The pulse animation indicates active loading
6. **Color Theming**: Use theme-appropriate colors for different contexts
7. **Responsive Design**: Ensure skeletons work well on all screen sizes

</ComponentDocsLayout>