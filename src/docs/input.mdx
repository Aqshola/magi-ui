import { ComponentDocsLayout } from '@/components/documentation/component-docs-layout'
import { ComponentPreview } from '@/components/documentation/component-preview'
import { Input } from '@/components/ui/input'
import { Label } from '@/components/ui/label'
import { Button } from '@/components/ui/button'
import { Card, CardHeader, CardTitle, CardContent, CardFooter } from '@/components/ui/card'
import { Search, Mail, Lock, User, Eye, EyeOff } from 'lucide-react'
import { useState } from 'react'

<ComponentDocsLayout
  title="Input"
  description="A flexible input component for collecting user data with support for various input types, validation states, and accessibility features."
  category="Form Component"
>

## Overview

The Input component provides a consistent interface for text input across the MAGI-UI system. It supports various input types, validation states, and integrates seamlessly with form libraries.

## Features

- **Multiple Input Types**: Text, email, password, number, search, and more
- **Validation States**: Visual feedback for error and success states
- **Icon Support**: Leading and trailing icon placement
- **Accessibility**: Full keyboard navigation and screen reader support
- **Form Integration**: Works with React Hook Form and other form libraries
- **Responsive Design**: Adapts to different screen sizes and containers

## Basic Usage

<ComponentPreview
  title="Basic Input"
  description="Simple text input with placeholder"
  code={`import { Input } from '@/components/ui/input'

function Example() {
  return (
    <Input 
      type="text" 
      placeholder="Enter system identifier..." 
      className="w-80"
    />
  )
}`}
>
  <Input 
    type="text" 
    placeholder="Enter system identifier..." 
    className="w-80"
  />
</ComponentPreview>

## Input Types

<ComponentPreview
  title="Input Types"
  description="Different input types for various data collection needs"
  code={`import { Input } from '@/components/ui/input'
import { Label } from '@/components/ui/label'

function Example() {
  return (
    <div className="space-y-4 w-80">
      <div className="space-y-2">
        <Label htmlFor="text">Text Input</Label>
        <Input id="text" type="text" placeholder="Enter text..." />
      </div>
      
      <div className="space-y-2">
        <Label htmlFor="email">Email Input</Label>
        <Input id="email" type="email" placeholder="user@nerv.gov" />
      </div>
      
      <div className="space-y-2">
        <Label htmlFor="password">Password Input</Label>
        <Input id="password" type="password" placeholder="Enter password..." />
      </div>
      
      <div className="space-y-2">
        <Label htmlFor="number">Number Input</Label>
        <Input id="number" type="number" placeholder="0" />
      </div>
      
      <div className="space-y-2">
        <Label htmlFor="search">Search Input</Label>
        <Input id="search" type="search" placeholder="Search database..." />
      </div>
    </div>
  )
}`}
>
  <div className="space-y-4 w-80">
    <div className="space-y-2">
      <Label htmlFor="text">Text Input</Label>
      <Input id="text" type="text" placeholder="Enter text..." />
    </div>
    
    <div className="space-y-2">
      <Label htmlFor="email">Email Input</Label>
      <Input id="email" type="email" placeholder="user@nerv.gov" />
    </div>
    
    <div className="space-y-2">
      <Label htmlFor="password">Password Input</Label>
      <Input id="password" type="password" placeholder="Enter password..." />
    </div>
    
    <div className="space-y-2">
      <Label htmlFor="number">Number Input</Label>
      <Input id="number" type="number" placeholder="0" />
    </div>
    
    <div className="space-y-2">
      <Label htmlFor="search">Search Input</Label>
      <Input id="search" type="search" placeholder="Search database..." />
    </div>
  </div>
</ComponentPreview>

## With Icons

<ComponentPreview
  title="Input with Icons"
  description="Inputs enhanced with leading or trailing icons"
  code={`import { Input } from '@/components/ui/input'
import { Label } from '@/components/ui/label'
import { Search, Mail, Lock, User } from 'lucide-react'

function Example() {
  return (
    <div className="space-y-4 w-80">
      <div className="space-y-2">
        <Label htmlFor="search-input">Search</Label>
        <div className="relative">
          <Search className="absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground" />
          <Input 
            id="search-input"
            type="search" 
            placeholder="Search..." 
            className="pl-10"
          />
        </div>
      </div>
      
      <div className="space-y-2">
        <Label htmlFor="email-input">Email</Label>
        <div className="relative">
          <Mail className="absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground" />
          <Input 
            id="email-input"
            type="email" 
            placeholder="Enter email..." 
            className="pl-10"
          />
        </div>
      </div>
      
      <div className="space-y-2">
        <Label htmlFor="username-input">Username</Label>
        <div className="relative">
          <User className="absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground" />
          <Input 
            id="username-input"
            type="text" 
            placeholder="Enter username..." 
            className="pl-10"
          />
        </div>
      </div>
    </div>
  )
}`}
>
  <div className="space-y-4 w-80">
    <div className="space-y-2">
      <Label htmlFor="search-input">Search</Label>
      <div className="relative">
        <Search className="absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground" />
        <Input 
          id="search-input"
          type="search" 
          placeholder="Search..." 
          className="pl-10"
        />
      </div>
    </div>
    
    <div className="space-y-2">
      <Label htmlFor="email-input">Email</Label>
      <div className="relative">
        <Mail className="absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground" />
        <Input 
          id="email-input"
          type="email" 
          placeholder="Enter email..." 
          className="pl-10"
        />
      </div>
    </div>
    
    <div className="space-y-2">
      <Label htmlFor="username-input">Username</Label>
      <div className="relative">
        <User className="absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground" />
        <Input 
          id="username-input"
          type="text" 
          placeholder="Enter username..." 
          className="pl-10"
        />
      </div>
    </div>
  </div>
</ComponentPreview>

## Validation States

<ComponentPreview
  title="Validation States"
  description="Visual feedback for different validation states"
  code={`import { Input } from '@/components/ui/input'
import { Label } from '@/components/ui/label'

function Example() {
  return (
    <div className="space-y-4 w-80">
      <div className="space-y-2">
        <Label htmlFor="valid">Valid Input</Label>
        <Input 
          id="valid"
          type="text" 
          value="valid@nerv.gov"
          className="border-green-500 focus:border-green-500 focus:ring-green-500"
        />
        <p className="text-sm text-green-600">Email format is valid</p>
      </div>
      
      <div className="space-y-2">
        <Label htmlFor="invalid">Invalid Input</Label>
        <Input 
          id="invalid"
          type="text" 
          value="invalid-email"
          className="border-red-500 focus:border-red-500 focus:ring-red-500"
        />
        <p className="text-sm text-red-600">Please enter a valid email address</p>
      </div>
      
      <div className="space-y-2">
        <Label htmlFor="disabled">Disabled Input</Label>
        <Input 
          id="disabled"
          type="text" 
          value="Disabled field"
          disabled
        />
        <p className="text-sm text-muted-foreground">This field is read-only</p>
      </div>
    </div>
  )
}`}
>
  <div className="space-y-4 w-80">
    <div className="space-y-2">
      <Label htmlFor="valid">Valid Input</Label>
      <Input 
        id="valid"
        type="text" 
        value="valid@nerv.gov"
        className="border-green-500 focus:border-green-500 focus:ring-green-500"
      />
      <p className="text-sm text-green-600">Email format is valid</p>
    </div>
    
    <div className="space-y-2">
      <Label htmlFor="invalid">Invalid Input</Label>
      <Input 
        id="invalid"
        type="text" 
        value="invalid-email"
        className="border-red-500 focus:border-red-500 focus:ring-red-500"
      />
      <p className="text-sm text-red-600">Please enter a valid email address</p>
    </div>
    
    <div className="space-y-2">
      <Label htmlFor="disabled">Disabled Input</Label>
      <Input 
        id="disabled"
        type="text" 
        value="Disabled field"
        disabled
      />
      <p className="text-sm text-muted-foreground">This field is read-only</p>
    </div>
  </div>
</ComponentPreview>

## Form Example

<ComponentPreview
  title="Complete Form"
  description="Input components in a complete form layout"
  code={`import { Input } from '@/components/ui/input'
import { Label } from '@/components/ui/label'
import { Button } from '@/components/ui/button'
import { Card, CardHeader, CardTitle, CardContent, CardFooter } from '@/components/ui/card'

function Example() {
  return (
    <Card className="w-96">
      <CardHeader>
        <CardTitle>MAGI Access Request</CardTitle>
      </CardHeader>
      <CardContent className="space-y-4">
        <div className="space-y-2">
          <Label htmlFor="pilot-id">Pilot ID</Label>
          <Input 
            id="pilot-id"
            type="text" 
            placeholder="Enter pilot identifier..."
          />
        </div>
        
        <div className="space-y-2">
          <Label htmlFor="access-code">Access Code</Label>
          <Input 
            id="access-code"
            type="password" 
            placeholder="Enter access code..."
          />
        </div>
        
        <div className="space-y-2">
          <Label htmlFor="clearance">Clearance Level</Label>
          <Input 
            id="clearance"
            type="number" 
            placeholder="1-10"
            min="1"
            max="10"
          />
        </div>
      </CardContent>
      <CardFooter className="flex gap-2">
        <Button variant="outline" className="flex-1">
          Cancel
        </Button>
        <Button className="flex-1">
          Request Access
        </Button>
      </CardFooter>
    </Card>
  )
}`}
>
  <Card className="w-96">
    <CardHeader>
      <CardTitle>MAGI Access Request</CardTitle>
    </CardHeader>
    <CardContent className="space-y-4">
      <div className="space-y-2">
        <Label htmlFor="pilot-id">Pilot ID</Label>
        <Input 
          id="pilot-id"
          type="text" 
          placeholder="Enter pilot identifier..."
        />
      </div>
      
      <div className="space-y-2">
        <Label htmlFor="access-code">Access Code</Label>
        <Input 
          id="access-code"
          type="password" 
          placeholder="Enter access code..."
        />
      </div>
      
      <div className="space-y-2">
        <Label htmlFor="clearance">Clearance Level</Label>
        <Input 
          id="clearance"
          type="number" 
          placeholder="1-10"
          min="1"
          max="10"
        />
      </div>
    </CardContent>
    <CardFooter className="flex gap-2">
      <Button variant="outline" className="flex-1">
        Cancel
      </Button>
      <Button className="flex-1">
        Request Access
      </Button>
    </CardFooter>
  </Card>
</ComponentPreview>

## API Reference

### Input Props

| Prop | Type | Default | Description |
|------|------|---------|-------------|
| `type` | `string` | `"text"` | HTML input type |
| `placeholder` | `string` | - | Placeholder text |
| `value` | `string` | - | Controlled value |
| `defaultValue` | `string` | - | Default value for uncontrolled |
| `disabled` | `boolean` | `false` | Disable input interaction |
| `required` | `boolean` | `false` | Mark field as required |
| `className` | `string` | - | Additional CSS classes |
| `onChange` | `function` | - | Change event handler |
| `onFocus` | `function` | - | Focus event handler |
| `onBlur` | `function` | - | Blur event handler |

### Supported Input Types

- `text` - Standard text input
- `email` - Email address input with validation
- `password` - Password input with hidden text
- `number` - Numeric input with step controls
- `search` - Search input with clear functionality
- `tel` - Telephone number input
- `url` - URL input with validation
- `date` - Date picker input
- `time` - Time picker input

## Design Tokens

```css
/* Input base styles */
.input {
  display: flex;
  height: 2.5rem;
  width: 100%;
  border-radius: 0.375rem;
  border: 1px solid hsl(var(--border));
  background-color: hsl(var(--background));
  padding: 0.5rem 0.75rem;
  font-size: 0.875rem;
  transition: border-color 0.2s, box-shadow 0.2s;
}

.input:focus {
  outline: none;
  border-color: hsl(var(--ring));
  box-shadow: 0 0 0 2px hsl(var(--ring) / 0.2);
}

.input:disabled {
  cursor: not-allowed;
  opacity: 0.5;
}
```

## Accessibility

- **Keyboard Navigation**: Full support for Tab, Arrow keys, and input-specific shortcuts
- **Screen Readers**: Proper labeling and ARIA attributes
- **Focus Management**: Clear focus indicators and logical tab order
- **Validation**: Accessible error messages and validation feedback

## Best Practices

1. **Always use labels**: Associate inputs with descriptive labels
2. **Provide clear placeholders**: Use helpful placeholder text
3. **Handle validation gracefully**: Show clear error messages
4. **Consider input types**: Use appropriate input types for better UX
5. **Test accessibility**: Ensure inputs work with keyboard and screen readers

</ComponentDocsLayout>